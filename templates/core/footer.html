{% if request.user.is_authenticated %}
    <footer id="dynamic-footer" class="fixed bottom-0 left-0 w-full bg-gray-900 text-white shadow-lg border-t border-blue-800">
        <nav class="grid grid-cols-5 gap-0 py-2 text-xs sm:text-xs md:text-base">
            <a href="{% url 'home' %}" class="flex flex-col items-center px-2 py-1 hover:bg-gray-800 transition duration-300">
                <span>ğŸ  Home</span>
            </a>
            <a href="{% url 'Investment:portfolio' %}" class="flex flex-col items-center px-2 py-1 hover:bg-gray-800 transition duration-300">
                <span>ğŸ“ Portfolio</span>
            </a>
            <a href="{% url 'Investment:invest' %}" class="flex flex-col items-center px-2 py-1 hover:bg-gray-800 transition duration-300">
                <span>ğŸ’° Invest</span>
            </a>
            <a href="{% url 'trade:trade_index' %}" class="flex flex-col items-center px-2 py-1 hover:bg-gray-800 transition duration-300">
                <span>ğŸ“Š Trade</span>
            </a>
            <a href="{% url 'accounts:history' %}" class="flex flex-col items-center px-2 py-1 hover:bg-gray-800 transition duration-300">
                <span>ğŸ“œ History</span>
            </a>
        </nav>
    </footer>


    <script>
        let lastScrollTop = window.scrollY;
        let footer = document.getElementById("dynamic-footer");

        window.addEventListener("scroll", function () {
            let currentScroll = window.scrollY;

            if (currentScroll > lastScrollTop) {
                // Scrolling down, hide the footer
                footer.style.transform = "translateY(100%)";
            } else {
                // Scrolling up, show the footer
                footer.style.transform = "translateY(0)";
            }

            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        }, { passive: true });
    </script>
{% endif %}
